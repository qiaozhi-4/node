# linux文件说明

【/ 】系统的根目录
【/bin】 存放可执行文件
【/boot 】系统引导文件夹
【/dev】 存放设备文件
【/etc 】系统、软件配置相关文件
【/home 】用户文件的根目录，下面的每一个文件夹代表一个普通用户
【/root】 系统管理员、root用户的主目录
【/tmp】 临时文件夹
【/usr 】系统应用程序存放位置
【/var 】存放数据文件，比如日志文件
【/opt 】额外安装的可选应用程序位置
【/lib】 共享库，存放动态链接库





#  Vi 和Vim编辑器 



####  vi 和 vim 的基本介绍 

-  Linux 系统会内置 vi 文本编辑器
-  Vim 具有程序编辑的能力，可以看做是 Vi 的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。 





####  vi 和 vim 常用的三种模式 

- **正常模式** 以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、粘贴』来处理你的文件数据。 
- **插入模式** 按下 i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可. 
- **命令行模式** 输入 esc 再输入：在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作则是在此模式中达成的！ 





####  各种模式的相互切换 

![](D:\笔记\linux.assets\各种模式的相互切换.png)





####  vi 和 vim 快捷键 

1. 复制当前行 yy , 
2. 复制当前光标行向下的 5 行 5yy
3. 粘贴 p
4.  删除当前行 dd 
5.  删除当前光标行向下的 5 行 5dd 
6.  在文件中查找某个单词 [命令行下 / 查找的关键字 ， 回车 查找 , 输入 n 就是查找下一个] 
7. 设置文件的行号，取消文件的行号.[命令行下 : set nu 和 :set nonu] 
8.  编辑 /etc/profile 文件，在一般模式下, 使用快捷键到该文档的最末行[G]和最首行[gg] 
9.  在一个文件中输入 "hello" ,在一般模式下, 然后又撤销这个动作 u
10.  编辑 /etc/profile 文件，在一般模式下, 并将光标移动到 , 输入 20,再输入 shift+g 





# linux基本命令

####  关机&重启命令 

1. shutdown –h now 立该进行关机 
2. shudown -h 1 "hello, 1 分钟后会关机了" 
3. shutdown –r now 现在重新启动计算机 
4. halt 关机，作用和上面一样. 
5. reboot 现在重新启动计算机 
6. sync 把内存的数据同步到磁盘 

 **注意细节** 

1. 不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中
2.  目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync ， 老韩提醒: 小心驶得万年船 





#### 用户登录和注销

1.  登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份. 
2. 在提示符下输入 logout 即可注销用户  

 **注意细节** 

1. logout 注销指令在图形运行级别无效，在运行级别 3 下有效. 





#### 用户

 ###### 添加用户 

 	useradd 用户名 

 **注意细节** 

1.  当创建用户成功后，会自动的创建和用户同名的家目录
2.  也可以通过 useradd -d 指定目录 新的用户名，给新创建的用户指定家目录 





 ###### 设置/修改密码 

 	passwd 用户名 

**注意细节** 

1. 如果没有指定用户名,则修改当前登录用户





######  删除用户 

​	userdel 用户名  			   	 删除用户 

​	userdel -r 用户名 				 删除用户以及用户主目录 





###### 查询用户信息指令 

 	id 用户名 





######  切换用户 

 	su - 切换用户名 

**注意细节** 

1. 从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。
2. 当需要返回到原来用户时，使用 exit/logout 指令 







######  查看当前用户/登录用户 

 who am I			查看的是登录 linux 系统的用户





######  用户组-新增组 

​	groupadd 组名

 **案例演示** 

- 增加用户时直接加上组 
- 指令(基本语法) : useradd –g 用户组 用户名 
- 增加一个用户 zwj, 直接将他指定到 wudang 
- groupadd wudang 
- useradd -g wudang zwj 



###### 用户组-删除组 

​	groupdel 组名 			 



###### 用户组-修改组 

​	 usermod –g 用户组 用户名 

 **案例演示** 

- 创建一个组 mojiao 
- 把 zwj 放入到 mojiao 
- 指令: usermod -g mojiao zwj 



###### 用户和组相关文件 

1.  /etc/passwd 文件
   - 用户（user）的配置文件，记录用户的各种信息 ,
   - 每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell 
2. /etc/shadow 文件 
   - 口令的配置文件,
   - 每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
3. /etc/group 文件 
   - 组(group)的配置文件，记录 Linux 包含的组的信息 
   - 每行含义：组名:口令:组标识号:组内用户列表 







####  运行级别 

运行级别说明： 

0 ：关机 
1 ：单用户【找回丢失密码】 
2：多用户状态没有网络服务 
3：多用户状态有网络服务 
4：系统未使用保留给用户 
5：图形界面 
6：系统重启 

 常用运行级别是 3 和 5 ，也可以指定默认运行级别 

###### 切换运行级别

**命令**：init [0123456] 

**应用案例**： 通过 init 来切换不同的运行级别，比如动 5-3 ， 然后关机。 

- init 3
- init 0



###### 获取默认运行级别

**命令**：systemctl get-default 



###### 修改默认运行级别

**命令**：systemctl set-default multi-user.target		修改默认运行级别为 3 

**说明:** 在 centos7 以前， /etc/inittab 文件中 . 
	进行了简化 ，如下:
		multi-user.target: analogous to runlevel 3 		代表 3 运行级别
		graphical.target: analogous to runlevel 5 			代表 5 运行级别









####  显示当前用户所在的目录 pwd 











# linux root 用户密码找回

1. 首先，启动系统，进入开机界面，在界面中按“e”进入编辑界面。![](D:\笔记\linux.assets\linux_root_用户密码找回_1.png)
2. 进入编辑界面，使用键盘上的上下键把光标往下移动，找到以““Linux16”开头内容所在的行数”，在行的最后面输入：init=/bin/sh                    ![](D:\笔记\linux.assets\linux_root_用户密码找回_2.png)
3. 接着，输入完成后，直接按快捷键：Ctrl+x 进入**单用户模式**。
4. 2接着，在光标闪烁的位置中输入：mount -o remount,rw /（注意：各个单词间有空格），完成后按键盘的回车键（Enter）。如图                                                                                                       ![1670597135784](D:\笔记\linux.assets\linux_root_用户密码找回_3.png)
5. 在新的一行最后面输入：passwd， 完成后按键盘的回车键（Enter）。输入密码，然后再次确认密码即可(密码长度最好8位以上,但不是必须的), 密码修改成功后，会显示passwd.....的样式，说明密码修改成功![1670597355312](D:\笔记\linux.assets\linux_root_用户密码找回_4.png)
6. 接着，在鼠标闪烁的位置中（最后一行中）输入：touch /.autorelabel（注意：touch与 /后面有一个空格），完成后按键盘的回车键（Enter）
7. 继续在光标闪烁的位置中，输入：exec /sbin/init（注意：exec与 /后面有一个空格），完成后按键盘的回车键（Enter）,等待系统自动修改密码(韩顺平提示：这个过程时间可能有点长，耐心等待)，完成后，系统会自动重启, 新的密码生效了                                                                                ![1670597420888](D:\笔记\linux.assets\linux_root_用户密码找回_5.png)